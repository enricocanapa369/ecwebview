<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Three.js Scene</title>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        background: black;
        color: lime;
        font-family: monospace;
        font-size: 14px;
      }
      #log {
        position: absolute;
        top: 0;
        left: 0;
        padding: 10px;
        white-space: pre-wrap;
        z-index: 10;
        pointer-events: none;
      }
    </style>
  </head>
  <body>
    <div id="log">Booting scene...\n</div>
    <script src="https://cdn.jsdelivr.net/npm/three@0.155.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.155.0/examples/js/controls/OrbitControls.js"></script>
    <script>
      const log = (msg) => {
        const el = document.getElementById('log');
        el.textContent += msg + '\n';
        console.log(msg);
      };

      try {
        log('Creating renderer...');
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);
        log('Renderer ready.');

        log('Creating scene...');
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x000000);

        const camera = new THREE.PerspectiveCamera(
          75,
          window.innerWidth / window.innerHeight,
          0.1,
          1000
        );
        camera.position.z = 5;

        log('Setting up lights...');
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);

        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
        directionalLight.position.set(1, 1, 1);
        scene.add(directionalLight);
        log('Lights added.');

        log('Adding orbit controls...');
        const controls = new OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.1;

        log('Creating geometry...');
        const geometry = new THREE.BoxGeometry();
        const material = new THREE.MeshStandardMaterial({ color: 0x00ff00 });
        const cube = new THREE.Mesh(geometry, material);
        scene.add(cube);
        log('Cube added.');

        window.addEventListener('resize', () => {
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
        });

        function animate() {
          requestAnimationFrame(animate);
          cube.rotation.x += 0.01;
          cube.rotation.y += 0.01;
          controls.update();
          renderer.render(scene, camera);
        }

        log('Starting animation loop...');
        animate();
      } catch (err) {
        log('ERROR: ' + err.message);
        console.error(err);
      }
    </script>
  </body>
</html>